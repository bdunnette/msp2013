---
layout: default
---
<h2>{{ page.title }}</h2>
<div class="post">
{{ content }}
</div>

<div id="map" style="width: 100%; height: 800px"></div>

{% if page.author %}
    {% assign slide_author = page.author %}
{% else %}
    {% assign slide_author = "their creators" %}
{% endif %}

{% if page.start_zoom %}
    {% assign start_zoom = page.start_zoom %}
{% else %}
    {% assign start_zoom = 10 %}
{% endif %}

{% if page.max_zoom %}
    {% assign max_zoom = page.max_zoom %}
{% else %}
    {% assign max_zoom = 14 %}
{% endif %}

{% if page.startx %}
    {% assign startx = page.startx %}
{% else %}
    {% assign startx = -179.5 %}
{% endif %}

{% if page.starty %}
    {% assign starty = page.starty %}
{% else %}
    {% assign starty = 85 %}
{% endif %}

<script>

		var map = new L.map('map');
        
        var slideUrl = '_slides/{{page.slide_id}}/{z}/{x}_{y}.jpeg'
    
		slide = L.tileLayer(slideUrl, {
            attribution: 'Images &copy; {{slide_author}}; All Rights Reserved.',
            minZoom: 10,
            maxZoom: '{{max_zoom}}',
            noWrap: true,
            errorTileURL: '_slides/blank.jpeg'
		});
    
        map.addLayer(slide);
        map.setView(new L.LatLng({{starty}},{{startx}}), {{start_zoom}});
        
        var slide2 = new L.TileLayer(slideUrl, {minZoom: 5, maxZoom: 10});
        var miniMap = new L.Control.MiniMap(slide2, { toggleDisplay: true }).addTo(map);
    
        function onMapMove(e) { console.log('Center:' + map.getCenter() + ' Zoom:' + map.getZoom()); }
    
        map.on('moveend', onMapMove);
    
</script>
